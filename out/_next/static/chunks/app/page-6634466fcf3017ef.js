(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{731:(e,t,n)=>{Promise.resolve().then(n.bind(n,3151))},3151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var a,i=n(5155),s=n(2115);let l=JSON.parse('[{"name":"Brogan","class":"the Destroyer","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Arien","class":"the Tidemaster","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Min","class":"the Dragonmonk","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Tigerclaw","class":"the Cutpurse","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Wuk","class":"the Grove Guardian","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Hanu","class":"the Trickster","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Trinkets","class":"the Scavenger","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Garrus","class":"the Gladiator","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Bain","class":"the Bounty Hunter","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Ursafar","class":"the Savage","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Whisper","class":"the Outcast","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Takahide","class":"the Warlord","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Emmitt","class":"the Traveller","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Snorri","class":"the Runescribe","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Gydion","class":"the Archwizard","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Mortimer","class":"the Awakener","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Mrak","class":"the Stoneshaper","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Ignatia","class":"the Mad","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Sabina","class":"the Commander","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Wasp","class":"the Warmaiden","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Swift","class":"the Sharpshooter","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Dodger","class":"the Warlock","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Xargatha","class":"the Changed","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Silverarrow","class":"the Pathfinder","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Misa","class":"the Samurai","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Tali","class":"the Spiritcaller","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Cutter","class":"the Sky Pirate","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Rowenna","class":"the Vanguard","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Brynn","class":"the Seeker","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"W & P","class":"Widget and Pyro","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"Razzle","class":"the Fay","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"},{"name":"NebKher","class":"the Harbinger","difficulty":2,"attack":"?","defense":"?","initiative":"?","movement":"?"}]');function c(e){let{teamsize:t,teamAPicks:n}=e,a=[];for(let e=0;e<t;e++){let t=n[e]?n[e].name:"";a.push((0,i.jsx)("div",{className:"pick",children:t},"teamapick"+e))}return(0,i.jsx)("div",{className:"teamAPicks",children:a})}function o(e){let{teamsize:t,teamABans:n}=e,a=[];for(let e=0;e<t;e++){let t=n[e]?n[e].name:"";a.push((0,i.jsx)("div",{className:"ban",children:t},"teamaban"+e))}return(0,i.jsx)("div",{className:"teamABans",children:a})}function r(e){let{teamsize:t,teamBPicks:n}=e,a=[];for(let e=0;e<t;e++){let t=n[e]?n[e].name:"";a.push((0,i.jsx)("div",{className:"pick",children:t},"teamapick"+e))}return(0,i.jsx)("div",{className:"teamBPicks",children:a})}function m(e){let{teamsize:t,teamBBans:n}=e,a=[];for(let e=0;e<t;e++){let t=n[e]?n[e].name:"";a.push((0,i.jsx)("div",{className:"ban",children:t},"teamaban"+e))}return(0,i.jsx)("div",{className:"teamBBans",children:a})}function d(e){let{teamAStatus:t,teamsize:n,teamAPicks:a,teamABans:s}=e;return(0,i.jsxs)("div",{className:"teamAPicksAndBans",children:[(0,i.jsx)("div",{className:"teamAStatus",children:t}),(0,i.jsx)(c,{teamsize:n,teamAPicks:a}),(0,i.jsx)(o,{teamsize:n,teamABans:s})]})}function u(e){let{teamBStatus:t,teamsize:n,teamBPicks:a,teamBBans:s}=e;return(0,i.jsxs)("div",{className:"teamBPicksAndBans",children:[(0,i.jsx)("div",{className:"teamBStatus",children:t}),(0,i.jsx)(r,{teamsize:n,teamBPicks:a}),(0,i.jsx)(m,{teamsize:n,teamBBans:s})]})}function f(e){let{teamAStatus:t,teamBStatus:n,teamsize:a,teamAPicks:s,teamABans:l,teamBPicks:c,teamBBans:o}=e;return(0,i.jsxs)("div",{className:"picksAndBans",children:[(0,i.jsx)(d,{teamAStatus:t,teamsize:a,teamAPicks:s,teamABans:l}),(0,i.jsx)(u,{teamBStatus:n,teamsize:a,teamBPicks:c,teamBBans:o})]})}function h(e){let t,{onSelectedHeroChange:n,pickOrBanStep:a,selectedHero:s,teamAPicks:c,teamABans:o,teamBPicks:r,teamBBans:m}=e,d=[...c,...o,...r,...m];return a&&(t="A"===a.charAt(0)?"teamAHighlight":"teamBHighlight"),(0,i.jsxs)("div",{className:"heroGrid",children:[l.map(e=>{let a=["heroButton"];return e===s&&(a.push("selectedHeroButton"),a.push(t)),c.includes(e)&&a.push("pickedByTeamAHeroButton"),r.includes(e)&&a.push("pickedByTeamBHeroButton"),(o.includes(e)||m.includes(e))&&a.push("bannedHeroButton"),(0,i.jsx)("button",{className:a.join(" "),onClick:()=>n(e),disabled:d.includes(e),children:e.name},e.name)}),function(){let e=["heroButton randomHeroButton"];return null===s&&(e.push("selectedHeroButton"),e.push(t)),(0,i.jsx)("button",{className:e.join(" "),onClick:()=>n(null),children:"Random"})}()]})}function v(e){let{selectedHero:t}=e;return t?(0,i.jsxs)("div",{className:"heroInfo",children:[t.name,", ",t.class,(0,i.jsx)("div",{className:"difficultyLevel",children:"*".repeat(t.difficulty)}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Attack: ",t.attack]}),(0,i.jsxs)("li",{children:["Initiative: ",t.initiative]}),(0,i.jsxs)("li",{children:["Defense: ",t.defense]}),(0,i.jsxs)("li",{children:["Movement: ",t.movement]})]})]}):(0,i.jsx)("div",{className:"heroInfo randomHeroInfo",children:"?"})}function k(e){let{submitSelection:t,allowSelection:n,pickOrBanStep:a,teamAPicks:l,teamABans:c,teamBPicks:o,teamBBans:r}=e,[m,d]=(0,s.useState)(null);return[...l,...c,...o,...r].includes(m)&&d(null),(0,i.jsxs)("div",{className:"heroPicker",children:[(0,i.jsx)(B,{onConfirm:function(){t(m),d(null)},allowSelection:n,pickOrBanStep:a,selectedHero:m}),(0,i.jsxs)("div",{className:"heroGridAndInfo",children:[(0,i.jsx)(v,{selectedHero:m}),(0,i.jsx)(h,{onSelectedHeroChange:d,pickOrBanStep:a,selectedHero:m,teamAPicks:l,teamABans:c,teamBPicks:o,teamBBans:r})]})]})}function B(e){let{onConfirm:t,allowSelection:n,pickOrBanStep:a,selectedHero:s}=e;if(!a)return null;let l="Wait",c="for other Team...",o="";return n&&("P"===a.charAt(1)?(l="Pick",c="A"===a.charAt(0)?"for Team A":"for Team B"):(l="Ban",c=""),o=null===s?"a random hero":s.name.toUpperCase()),(0,i.jsxs)("button",{className:"confirmButton",disabled:!n,onClick:()=>t(),children:[l," ",o," ",c]})}l.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),n(7514);let x=["AB","BB","AP","BP","BB","AB","BP","AP","AB","BB","BP","AP","BB","AB","AP","BP","BB","AB","BP","AP"];function j(e){let t,n,{handleExit:a,teamsize:c,connectionData:o,receivedHeroName:r}=e,[m,d]=(0,s.useState)(x.slice(0,4*c)),[u,h]=(0,s.useState)([]),[v,B]=(0,s.useState)([]),[j,g]=(0,s.useState)([]),[A,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{r&&(console.log("Received Pick: "+r),S(l.find(e=>e.name===r)))},[r]);let y=m[0]&&(!o.isOnline||o.isHosting&&"A"===m[0].charAt(0)||!o.isHosting&&"B"===m[0].charAt(0));function S(e){switch(m[0]){case"AP":h([...u,e]);break;case"AB":B([...v,e]);break;case"BP":g([...j,e]);break;case"BB":p([...A,e])}d(m.slice(1))}switch(m[0]){case"AP":t="Team A is picking...";break;case"AB":t="Team A is banning...";break;case"BP":n="Team B is picking...";break;case"BB":n="Team B is banning...";break;default:t="Team A:",n="Team B:"}return(0,i.jsxs)("div",{className:"pickBanScreen",children:[(0,i.jsxs)("div",{className:"headerBar",children:[(0,i.jsx)("button",{className:"quitButton",onClick:()=>a(),children:"Back to Main Menu (Abandon)"}),(0,i.jsxs)("div",{className:"hostingStatus",children:[o.isOnline&&o.isHosting?(0,i.jsxs)(i.Fragment,{children:["Hosting game ",o.label]}):null,o.isOnline&&!o.isHosting?(0,i.jsxs)(i.Fragment,{children:["Connected to game ",o.label]}):null]})]}),(0,i.jsx)(f,{teamAStatus:t,teamBStatus:n,teamsize:c,teamAPicks:u,teamABans:v,teamBPicks:j,teamBBans:A}),(0,i.jsx)(k,{submitSelection:function(e){let t;if(null===e){let e=[...u,...v,...j,...A],n=l.filter(t=>!e.includes(t));t=n[Math.floor(Math.random()*n.length)]}else t=e;S(t),o.isOnline&&o.connection.send(t.name)},allowSelection:y,pickOrBanStep:m[0],teamAPicks:u,teamABans:v,teamBPicks:j,teamBBans:A})]})}var g=n(1082);n(3738);let A="GoA-II-Pick-n-Ban-Tool-Game-ID-";function p(e){let{teamsize:t,availableTeamsizes:n,onChangeTeamSize:a}=e;return(0,i.jsx)("div",{children:(0,i.jsx)("select",{value:t,onChange:e=>a(e.target.value),children:n.map(e=>(0,i.jsxs)("option",{value:e,children:[e," players per team"]},e))})})}function y(){return Math.floor(1e8*Math.random()).toString()}function S(e){let{onChangeView:t,teamsize:n,availableTeamsizes:l,onChangeTeamSize:c,onConnection:o}=e,[r,m]=(0,s.useState)("idle"),[d,u]=(0,s.useState)(y),[f,h]=(0,s.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{children:"GoA II Pick'n'Ban Tool"}),(0,i.jsxs)("div",{className:"mainMenu",children:["idle"==r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Start a game"}),(0,i.jsx)(p,{teamsize:n,availableTeamsizes:l,onChangeTeamSize:c}),(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:()=>t("pickbanscreen"),children:"Start local"}),(0,i.jsx)("button",{onClick:()=>void(m("hosting"),console.log("Starting peer server..."),(a=new g.Ay(A+n.toString()+d)).on("open",function(e){console.log("Host ID is: "+e)}),a.on("connection",function(e){console.log("Game was connected to."),o(e,!0)}),a.on("error",function(e){console.log(e)})),children:"Host"})]})]}),(0,i.jsx)("h2",{children:"Join an existing game"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("label",{children:["Game ID:",(0,i.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value)})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:()=>void(c(parseInt(f.charAt(0))),a&&a.destroy(),console.log("Starting peer server..."),(a=new g.Ay).on("open",function(e){console.log("Host ID is: "+e);let t=A+f;console.log("Connecting to Game: "+t),o(a.connect(t,{label:f}),!1)}),a.on("error",function(e){console.log(e)})),children:"Join"})})]})]}):null,"hosting"==r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{children:["Game ID: ",n.toString()+d]}),(0,i.jsx)("button",{onClick:()=>void(m("idle"),a.destroy(),u(y),console.log("Peer server destroyed.")),children:"End Hosting"})]}):null]})]})}function b(){let e=[2,3,4,5],[t,n]=(0,s.useState)("mainmenu"),[a,l]=(0,s.useState)(e[0]),[c,o]=(0,s.useState)({isOnline:!1,connection:null,label:null,isHosting:!1}),[r,m]=(0,s.useState)("");return(0,i.jsxs)("div",{children:["mainmenu"==t?(0,i.jsx)(S,{onChangeView:n,teamsize:a,availableTeamsizes:e,onChangeTeamSize:l,onConnection:function(e,t){o({connection:e,label:e.label,isOnline:!0,isHosting:t}),m(""),e.on("data",function(e){console.log("received data",e),m(e)}),n("pickbanscreen")}}):null,"pickbanscreen"==t?(0,i.jsx)(j,{handleExit:function(){c.isOnline&&(o({isOnline:!1,connection:null,label:null,isHosting:!1}),m("")),n("mainmenu")},teamsize:a,connectionData:c,receivedHeroName:r}):null]})}},3738:()=>{},7514:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[525,82,441,517,358],()=>t(731)),_N_E=e.O()}]);